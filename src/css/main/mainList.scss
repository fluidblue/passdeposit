/**
 * PassDeposit
 * 
 * Created by Max Geissler
 */

#mainList
{
	box-shadow: rgba(0, 0, 0, 0.0627451) 0px 1px 4px 0px;

	.item
	{
		$borderRadius: 4px;
		$arrowLeft: 18px;
		$colorActive: #005580;
		$itemBackgroundColor: rgb(248, 248, 248);
		$itemBackgroundColorActive: rgb(240, 240, 240);
		$arrowOpacityInactive: 0.3;
		$arrowOpacityActive: 0.6;
		$btnOpacityInactive: $arrowOpacityInactive;
		$btnOpacityActive: 0.8;
		$padding: 8px;

		/* General item styling */

		border: 1px solid #e3e3e3;
		background-color: $itemBackgroundColor;

		&:first-child
		{
			border-top-left-radius: $borderRadius;
			border-top-right-radius: $borderRadius;
		}

		&:last-child
		{
			border-bottom-left-radius: $borderRadius;
			border-bottom-right-radius: $borderRadius;
		}

		&:not(:first-child)
		{
			border-top: 0;
		}


		/* General header styling */
		.header
		{
			display: table;

			> div
			{
				display: table-cell;
			}

			/* General button styling */
			.buttons
			{
				padding-right: ($padding - 2px);
				padding-left: ($padding - 2px);

				/* Table for nested a elements */
				display: table;

				> a
				{
					display: table-cell;

					/* Size: 24x24 px */
					padding-top: 2px;
					padding-left: 5px;
					padding-bottom: 2px;
					padding-right: 5px;

					/* Icon opacity */
					opacity: $btnOpacityInactive;
					&:hover
					{
						opacity: $btnOpacityActive;
					}
				}
			}

			/* General line styling */
			.line
			{
				width: 100%;

				padding: $padding;
				padding-right: 0;

				cursor: pointer;
				color: #0088cc;

				> div
				{
					display: inline-block;

					.dot
					{
						// TODO: Why not working?
						//content: "â€¢";

						padding-left: 2px;
						padding-right: 2px;

						font-weight: bold;
					}
				}

				/* Icon */
				> div:first-child
				{
					width: $arrowLeft;

					> i
					{
						opacity: $arrowOpacityInactive;
					}
				}

				/* Description */
				> div:last-child
				{
					// Cut text instead of wrapping
					overflow: hidden;
					white-space: nowrap;

					// Needed for :after
					position: relative;

					// Smoothly cut text by applying gradient
					// &:after
					// {
					// 	content: "";

					// 	position: absolute;
					// 	top: 0;
					// 	left: 0;
					// 	right: 0;
					// 	bottom: 0;

					// 	$itemBackgroundColorTransparent: rgba($itemBackgroundColor, 0);
					// 	@include background-image(linear-gradient(left, $itemBackgroundColorTransparent 0%, $itemBackgroundColorTransparent 92%, $itemBackgroundColor 100%));
					// }
				}
			}
		}

		/* Open item styling */
		&.open
		{
			.header
			{
				.line
				{
					cursor: default;
					color: $colorActive;

					/* Icon */
					> div:first-child > i
					{
						@extend .icon-chevron-down;
						opacity: $arrowOpacityActive;
					}

					/* Add padding, because buttons are invisible */
					padding-right: $padding;
				}

				/* Make buttons invisible, but preserve table-cell structure (keep .line working) */
				.buttons
				{
					padding: 0;
					display: table-cell;

					> a
					{
						display: none;
					}
				}
			}
		}

		/* Hover header styling */
		&:not(.open):hover
		{
			background-color: $itemBackgroundColorActive;
			
			.header
			{
				> .line
				{
					color: $colorActive;

					/* Icon */
					> div:first-child > i
					{
						// Darken arrow
						opacity: $arrowOpacityActive;
					}

					/* Description */
					> div:last-child
					{
						// Darken gradient for text cut
						// > .line:after
						// {
						// 	$itemBackgroundColorActiveTransparent: rgba($itemBackgroundColorActive, 0);
						// 	@include background-image(linear-gradient(left, $itemBackgroundColorActiveTransparent 0%, $itemBackgroundColorActiveTransparent 92%, $itemBackgroundColorActive 100%));
						// }
					}
				}
			}
		}

		/* Content styling */
		.content
		{
			$defaultMargin: 6px;

			margin-top: ($defaultMargin + 6px);
			margin-left: $arrowLeft;
			margin-bottom: $defaultMargin;
			margin-right: ($defaultMargin + 250px);
		}
	}
}
